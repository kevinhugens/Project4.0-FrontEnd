<h1>Axxess Streams</h1>
<ng-container *ngIf="loggedUser; else notLogged">
    <ng-container *ngIf="selectedRoom; else noRoomSelected">
        <ng-container *ngIf="!isPresentator">
            <div class="center">
                <iframe width="80%" height="400px" src="http://www.youtube.com/embed/NlOF03DUoWc" frameborder="0"
                    allowfullscreen></iframe>
            </div>
            <div class="mt-5">
                <!--<button class="btn btn-primary" style="margin-left:auto;margin-right:auto">Setup Mobile</button>-->
                <h3>Scan onderstaande qr-code voor interactie met je mobiel toestel.</h3>
                <ngx-qrcode [elementType]="elementType" [value]="value" class="center">
                </ngx-qrcode>
            </div>
        </ng-container>

        <ng-container *ngIf="isPresentator" class="center">
            <h3>Presentator Panel</h3>
            <h4>
                Overzicht van polls
            </h4>
            <div class="row mb-3" *ngFor="let poll of lijstPolls"
                style="align-items: center;display: flex;justify-content: center;">
                <span class="col col-md-4 mr-3">{{ poll.question }}</span>
                <button class="btn btn-info mr-3" (click)="openPoll(poll)">Open</button>
                <button class="btn btn-success" (click)="showResults(poll)">Results</button>
            </div>
            <div class="row" class="text-right">
                <button class="btn btn-danger" (click)="stopStream()">Stop stream</button>
            </div>
            <hr>
            <h3>Live Chat</h3>
            <div class="center">
                <div class="mesgs">
                    <div *ngFor="let msg of messages">
                        <p>
                            <Strong>{{msg.username}} : </Strong>{{msg.message}}
                        </p>
                        <span class="time_date"> {{msg.date | date:'medium'}} </span>
                    </div>
                </div>
                <div class="type_msg">
                    <input type="text" [value]="txtMessage" (input)="txtMessage=$event.target.value"
                        (keydown.enter)="sendMessage()" placeholder="Type a message" />
                    <button class="btn-primary btn" type="button" (click)="sendMessage()">Verstuur</button>
                </div>
            </div>
            <hr>
            <h3>Inkomende vragen</h3>
            <div class="center">
                <div class="qstns">
                    <div *ngFor="let qst of questions">
                        <p>
                            <Strong>{{qst.username}} : </Strong>{{qst.message}}
                        </p>
                    </div>
                </div>
            </div>

        </ng-container>
    </ng-container>
</ng-container>


<ng-template #notLogged>
    <h3>Meld aan om een stream te volgen.</h3>
</ng-template>
<ng-template #noRoomSelected>
    <h3>Selecteer een room op de homepagina om een stream te kunnen volgen.</h3>
</ng-template>